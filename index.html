<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <style>
        canvas {
            background-color: rgb(51, 0, 138);
            cursor: pointer;
        }

        body {
            margin: 0;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .title {
            left: 2%;
            top: 2%;
            position: fixed;
            font-size: 20px;
            color: white;
            cursor: pointer;
        }

        .category3 {
            right: 2%;
            top: 2%;
            position: fixed;
            font-size: 20px;
            color: white;
        }

        .category2 {
            right: 10%;
            top: 2%;
            position: fixed;
            font-size: 20px;
            color: white;
        }

        .category1 {
            right: 18%;
            top: 2%;
            position: fixed;
            font-size: 20px;
            color: rgb(255, 255, 255);
        }

        #passwordInput {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: none;
        }
    </style>
</head>
<body onload="startGame()">
    <div class="title" onclick="showPasswordPrompt()">Unlayering materials : Living Archive</div>
    <div class="category1">Syllabus</div>
    <div class="category2">Schedule</div>
    <div class="category3">Archive</div>

    <!-- Additional password input -->
    <div id="passwordInput">
        <label for="password">Enter Password:</label>
        <input type="password" id="password">
        <button onclick="checkPassword()">Submit</button>
    </div>

    <script>
        var myGamePieces = []; // Array to hold multiple components
        var isDragging = false; // Variable to track dragging state
        var selectedComponent = null; // Variable to store the selected component

        function startGame() {
            for (let i = 0; i < 80; i++) {
                // Creating 5 components with random positions, widths, heights, and text
                let x = Math.random() * (innerWidth - 20) + 10; // Adjusted to stay within the canvas
                let y = Math.random() * (innerHeight - 20) + 10; // Adjusted to stay within the canvas
                let width = Math.random() * 500 + 50; // Random width between 20 and 520
                let height = Math.random() * 500 + 50; // Random height between 20 and 420
                let text = 0;
                myGamePieces.push(new component(width, height, "rgb(0, 0, 255)", x, y, text));
            }

            myGameArea.start();
        }

        var myGameArea = {
            canvas : document.createElement("canvas"),
            start : function() {
                this.canvas.width = innerWidth;
                this.canvas.height = innerHeight;
                this.context = this.canvas.getContext("2d");
                document.body.insertBefore(this.canvas, document.body.childNodes[0]);
                this.frameNo = 0;

                // Listen for mouse movement and click events
                this.canvas.addEventListener('mousemove', function (e) {
                    if (isDragging && selectedComponent) {
                        selectedComponent.x = e.clientX;
                        selectedComponent.y = e.clientY;
                    }
                });

                this.canvas.addEventListener('mousedown', function (e) {
                    isDragging = true;
                    selectedComponent = getClickedComponent(e.clientX, e.clientY);
                });

                this.canvas.addEventListener('mouseup', function () {
                    isDragging = false;
                    selectedComponent = null;
                });

                // Listen for click event on the canvas to simulate a link click
                this.canvas.addEventListener('click', function (e) {
                    checkLinkClick(e.clientX, e.clientY);
                });

                this.interval = setInterval(updateGameArea, 20);
            },
            stop : function() {
                clearInterval(this.interval);
            },
            clear : function() {
                this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
            }
        }

        function component(width, height, color, x, y, text) {
            this.width = width;
            this.height = height;
            this.speed = 0;
            this.angle = 0;
            this.moveAngle = 0;
            this.x = x;
            this.y = y;
            this.text = text;    
            this.update = function() {
                ctx = myGameArea.context;
                ctx.save();

                // Apply transparency
                ctx.globalAlpha = 0.7;

                // Draw a blurry border
                ctx.shadowBlur = 100;
                ctx.shadowColor = color;

                ctx.translate(this.x, this.y);
                ctx.rotate(this.angle);
                ctx.fillStyle = color;
                ctx.fillRect(this.width / -2, this.height / -2, this.width, this.height);
                ctx.fillStyle = "blue";
                ctx.font = "12px Arial";
                ctx.fillText(this.text, -this.width / 4, -this.height / 4); // Adjust text position

                // Reset settings
                ctx.restore();    
                ctx.globalAlpha = 1.0;
                ctx.shadowBlur = 0;
            }
        }

        function updateGameArea() {
            myGameArea.clear();
            for (let i = 0; i < myGamePieces.length; i++) {
                myGamePieces[i].update();
            }

            // Draw canvas-wide text with a simulated link
            myGameArea.context.fillStyle = "blue";
            myGameArea.context.font = "40px Arial";
            myGameArea.context.fillText("_", 20, 50); // Adjust text position
        }

        function getClickedComponent(mouseX, mouseY) {
            for (let i = myGamePieces.length - 1; i >= 0; i--) {
                let component = myGamePieces[i];
                if (
                    mouseX >= component.x - component.width / 2 &&
                    mouseX <= component.x + component.width / 2 &&
                    mouseY >= component.y - component.height / 2 &&
                    mouseY <= component.y + component.height / 2
                    ) {
                    return component;
                }
            }
            return null;
        }

        function checkLinkClick(mouseX, mouseY) {
            // Simulate a link click by checking if the mouse position is over the text area
            let linkTextX = 10;
            let linkTextY = 30;
            let linkTextWidth = myGameArea.context.measureText("Canvas Text with Link").width;
            let linkTextHeight = 20; // Adjust as needed

            if (
                mouseX >= linkTextX &&
                mouseX <= linkTextX + linkTextWidth &&
                mouseY >= linkTextY - linkTextHeight &&
                mouseY <= linkTextY
            ) {
                showPasswordPrompt();
            }
        }

        function showPasswordPrompt() {
            // Show the password input prompt
            document.getElementById("passwordInput").style.display = "block";
        }

        function checkPassword() {
            // Check if the entered password is correct
            var password = document.getElementById("password").value;

            // You can set your own password here
            var correctPassword = "0000";

            if (password === correctPassword) {
                // Redirect to www.google.com if the password is correct
                window.location.href = "http://www.google.com";
            } else {
                // Display an alert or take any other action if the password is incorrect
                alert("Incorrect password. Try again.");
            }

            // Hide the password input prompt after checking the password
            document.getElementById("passwordInput").style.display = "none";
        }
    </script>


